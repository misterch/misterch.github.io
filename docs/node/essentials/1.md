---
title: Node简介
date: 2023-07-30
---

## node特点

### 异步I/O

- I/O高并发
- 可并行

### 事件驱动

事件与回调函数

### 单线程

**优点**

1. 不用处处在意**状态**的同步问题
2. 没有**死锁**
3. 没有**线程上下文交换**带来的性能上的开销

**缺点**

1. **无法利用多核CPU**（node不适合CPU密集型，处理CPU密集型用到cluster）
2. **错误会引起整个应用退出**，考验应用健壮性
3. 大量计算占用CPU导致无法继续调用异步I/O

**解决中大计算量问题**

前端：web workers

1. 创建工作**线程**来计算，解决js大量计算阻塞UI渲染问题
2. 工作线程通过**消息传递**来运行结果，也不能访问主线程中的UI

后端：child_prosess(子进程)

1. 将计算分发到各个**子进程**，然后通过进程之间的**事件消息**传递结果

### 跨平台

基于**libuv**实现跨平台

在**操作系统**和**node上层模块系统**之间构建一层平台层架构

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ddde8e7be0a941a3a01cb20f7909b05c~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?)

## 基调

事件驱动，异步I/O，单线程

- 作为服务器端处理客户端带来的**高并发请求**
- 作为客户端向网络中的各个应用进行并发请求

与之相近，**Nginx**面向那个客户端管理连接的强大能力

## 应用场景

### I/O密集型

I/O密集的优势主要在于Node利用**事件循环**的处理能力，而不是启动每一个线程为每一个请

求服务，资源占用极少。

### CPU密集型

因为js单线程的原因，若有**长时间运行的计算**模糊调至CPU时间片不能释放，是的后续I/O无法发起

但是适当调整和**分解**大型运算任务**为多个小任务**，使得运算能够**适时释放**，不阻塞I/O调用的发起，这样既可同时享受到**并行异步I/O**的好处，又能充分利用CPU。

### 分布式应用

Node**高效利用并行I/O**的过程，也是高效使用数据库的过程

## node的使用者

1. 前后端编程语言环境统一
2. 高性能I/O用于**实时应用**，过socket.io实现实时通知的功能
3. 并行I/O可以更高效地利用分布式环境
4. 并行I/O，有效利用稳定接口提升Web渲染能力
5. 云计算平台提供Node支持
6. 游戏开发
7. 工具类应用，webpack，vite等

## 参考资料

[深入浅出Node.js (豆瓣) (douban.com)](https://book.douban.com/subject/25768396/)
